{"remainingRequest":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\babel-loader\\lib\\index.js!F:\\webstormProjects\\hz-websit-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\webstormProjects\\hz-websit-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjects\\hz-websit-admin\\src\\components\\Tinymce\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\webstormProjects\\hz-websit-admin\\src\\components\\Tinymce\\index.vue","mtime":1630903546000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJGOi93ZWJzdG9ybVByb2plY3RzL2h6LXdlYnNpdC1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwoKdmFyIF9FZGl0b3JJbWFnZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9jb21wb25lbnRzL0VkaXRvckltYWdlIikpOwoKdmFyIF9wbHVnaW5zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL3BsdWdpbnMiKSk7Cgp2YXIgX3Rvb2xiYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vdG9vbGJhciIpKTsKCnZhciBfZHluYW1pY0xvYWRTY3JpcHQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vZHluYW1pY0xvYWRTY3JpcHQiKSk7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwoKLyoqCiAqIGRvY3M6CiAqIGh0dHBzOi8vcGFuamlhY2hlbi5naXRodWIuaW8vdnVlLWVsZW1lbnQtYWRtaW4tc2l0ZS9mZWF0dXJlL2NvbXBvbmVudC9yaWNoLWVkaXRvci5odG1sI3RpbnltY2UKICovCi8vIHdoeSB1c2UgdGhpcyBjZG4sIGRldGFpbCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1BhbkppYUNoZW4vdGlueW1jZS1hbGwtaW4tb25lCnZhciB0aW55bWNlQ0ROID0gJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vdGlueW1jZS1hbGwtaW4tb25lQDQuOS4zL3RpbnltY2UubWluLmpzJzsKdmFyIF9kZWZhdWx0MiA9IHsKICBuYW1lOiAnVGlueW1jZScsCiAgY29tcG9uZW50czogewogICAgZWRpdG9ySW1hZ2U6IF9FZGl0b3JJbWFnZS5kZWZhdWx0CiAgfSwKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gJ3Z1ZS10aW55bWNlLScgKyArbmV3IERhdGUoKSArICgoTWF0aC5yYW5kb20oKSAqIDEwMDApLnRvRml4ZWQoMCkgKyAnJyk7CiAgICAgIH0KICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgdG9vbGJhcjogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBtZW51YmFyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2ZpbGUgZWRpdCBpbnNlcnQgdmlldyBmb3JtYXQgdGFibGUnCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogMzYwCiAgICB9LAogICAgd2lkdGg6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnYXV0bycKICAgIH0sCiAgICBjaGFuZ2VWYWw6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGFzQ2hhbmdlOiBmYWxzZSwKICAgICAgaGFzSW5pdDogZmFsc2UsCiAgICAgIHRpbnltY2VJZDogdGhpcy5pZCwKICAgICAgZnVsbHNjcmVlbjogZmFsc2UsCiAgICAgIGxhbmd1YWdlVHlwZUxpc3Q6IHsKICAgICAgICAnZW4nOiAnZW4nLAogICAgICAgICd6aCc6ICd6aF9DTicsCiAgICAgICAgJ2VzJzogJ2VzX01YJywKICAgICAgICAnamEnOiAnamEnCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY29udGFpbmVyV2lkdGg6IGZ1bmN0aW9uIGNvbnRhaW5lcldpZHRoKCkgewogICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoOwoKICAgICAgaWYgKC9eW1xkXSsoXC5bXGRdKyk/JC8udGVzdCh3aWR0aCkpIHsKICAgICAgICAvLyBtYXRjaGVzIGAxMDBgLCBgJzEwMCdgCiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh3aWR0aCwgInB4Iik7CiAgICAgIH0KCiAgICAgIHJldHVybiB3aWR0aDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZGVidWdnZXI7CgogICAgICBpZiAoKHRoaXMuY2hhbmdlVmFsIHx8ICF0aGlzLmhhc0NoYW5nZSkgJiYgdGhpcy5oYXNJbml0KSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHdpbmRvdy50aW55bWNlLmdldChfdGhpczIudGlueW1jZUlkKS5zZXRDb250ZW50KHZhbCB8fCAnJyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIGFjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKCkgewogICAgaWYgKHdpbmRvdy50aW55bWNlKSB7CiAgICAgIHRoaXMuaW5pdFRpbnltY2UoKTsKICAgIH0KICB9LAogIGRlYWN0aXZhdGVkOiBmdW5jdGlvbiBkZWFjdGl2YXRlZCgpIHsKICAgIHRoaXMuZGVzdHJveVRpbnltY2UoKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgdGhpcy5kZXN0cm95VGlueW1jZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvLyBkeW5hbWljIGxvYWQgdGlueW1jZSBmcm9tIGNkbgogICAgICAoMCwgX2R5bmFtaWNMb2FkU2NyaXB0LmRlZmF1bHQpKHRpbnltY2VDRE4sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoZXJyLm1lc3NhZ2UpOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIF90aGlzMy5pbml0VGlueW1jZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBpbml0VGlueW1jZTogZnVuY3Rpb24gaW5pdFRpbnltY2UoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHdpbmRvdy50aW55bWNlLmluaXQoewogICAgICAgIHNlbGVjdG9yOiAiIyIuY29uY2F0KHRoaXMudGlueW1jZUlkKSwKICAgICAgICBsYW5ndWFnZTogdGhpcy5sYW5ndWFnZVR5cGVMaXN0WydlbiddLAogICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsCiAgICAgICAgYm9keV9jbGFzczogJ3BhbmVsLWJvZHkgJywKICAgICAgICBvYmplY3RfcmVzaXppbmc6IGZhbHNlLAogICAgICAgIHRvb2xiYXI6IHRoaXMudG9vbGJhci5sZW5ndGggPiAwID8gdGhpcy50b29sYmFyIDogX3Rvb2xiYXIuZGVmYXVsdCwKICAgICAgICBtZW51YmFyOiB0aGlzLm1lbnViYXIsCiAgICAgICAgcGx1Z2luczogX3BsdWdpbnMuZGVmYXVsdCwKICAgICAgICBlbmRfY29udGFpbmVyX29uX2VtcHR5X2Jsb2NrOiB0cnVlLAogICAgICAgIHBvd2VycGFzdGVfd29yZF9pbXBvcnQ6ICdjbGVhbicsCiAgICAgICAgY29kZV9kaWFsb2dfaGVpZ2h0OiA0NTAsCiAgICAgICAgY29kZV9kaWFsb2dfd2lkdGg6IDEwMDAsCiAgICAgICAgYWR2bGlzdF9idWxsZXRfc3R5bGVzOiAnc3F1YXJlJywKICAgICAgICBhZHZsaXN0X251bWJlcl9zdHlsZXM6ICdkZWZhdWx0JywKICAgICAgICBpbWFnZXRvb2xzX2NvcnNfaG9zdHM6IFsnd3d3LnRpbnltY2UuY29tJywgJ2NvZGVwZW4uaW8nXSwKICAgICAgICBkZWZhdWx0X2xpbmtfdGFyZ2V0OiAnX2JsYW5rJywKICAgICAgICBsaW5rX3RpdGxlOiBmYWxzZSwKICAgICAgICBub25icmVha2luZ19mb3JjZV90YWI6IHRydWUsCiAgICAgICAgLy8gaW5zZXJ0aW5nIG5vbmJyZWFraW5nIHNwYWNlICZuYnNwOyBuZWVkIE5vbmJyZWFraW5nIFNwYWNlIFBsdWdpbgogICAgICAgIGluaXRfaW5zdGFuY2VfY2FsbGJhY2s6IGZ1bmN0aW9uIGluaXRfaW5zdGFuY2VfY2FsbGJhY2soZWRpdG9yKSB7CiAgICAgICAgICBpZiAoX3RoaXMudmFsdWUpIHsKICAgICAgICAgICAgZWRpdG9yLnNldENvbnRlbnQoX3RoaXMudmFsdWUpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzLmhhc0luaXQgPSB0cnVlOwogICAgICAgICAgZWRpdG9yLm9uKCdOb2RlQ2hhbmdlIENoYW5nZSBLZXlVcCBTZXRDb250ZW50JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczQuaGFzQ2hhbmdlID0gdHJ1ZTsKCiAgICAgICAgICAgIF90aGlzNC4kZW1pdCgnaW5wdXQnLCBlZGl0b3IuZ2V0Q29udGVudCgpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKGVkaXRvcikgewogICAgICAgICAgZWRpdG9yLm9uKCdGdWxsc2NyZWVuU3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMuZnVsbHNjcmVlbiA9IGUuc3RhdGU7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8vIGl0IHdpbGwgdHJ5IHRvIGtlZXAgdGhlc2UgVVJMcyBpbnRhY3QKICAgICAgICAvLyBodHRwczovL3d3dy50aW55LmNsb3VkL2RvY3MtM3gvcmVmZXJlbmNlL2NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvbjN4QGNvbnZlcnRfdXJscy8KICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MTk2MjA1L2Rpc2FibGUtdGlueW1jZS1hYnNvbHV0ZS10by1yZWxhdGl2ZS11cmwtY29udmVyc2lvbnMKICAgICAgICBjb252ZXJ0X3VybHM6IGZhbHNlIC8vIOaVtOWQiOS4g+eJm+S4iuS8oAogICAgICAgIC8vIGltYWdlc19kYXRhaW1nX2ZpbHRlcihpbWcpIHsKICAgICAgICAvLyAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIC8vICAgICBjb25zdCAkaW1hZ2UgPSAkKGltZyk7CiAgICAgICAgLy8gICAgICRpbWFnZS5yZW1vdmVBdHRyKCd3aWR0aCcpOwogICAgICAgIC8vICAgICAkaW1hZ2UucmVtb3ZlQXR0cignaGVpZ2h0Jyk7CiAgICAgICAgLy8gICAgIGlmICgkaW1hZ2VbMF0uaGVpZ2h0ICYmICRpbWFnZVswXS53aWR0aCkgewogICAgICAgIC8vICAgICAgICRpbWFnZS5hdHRyKCdkYXRhLXdzY250eXBlJywgJ2ltYWdlJyk7CiAgICAgICAgLy8gICAgICAgJGltYWdlLmF0dHIoJ2RhdGEtd3NjbmgnLCAkaW1hZ2VbMF0uaGVpZ2h0KTsKICAgICAgICAvLyAgICAgICAkaW1hZ2UuYXR0cignZGF0YS13c2NudycsICRpbWFnZVswXS53aWR0aCk7CiAgICAgICAgLy8gICAgICAgJGltYWdlLmFkZENsYXNzKCd3c2NucGgnKTsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgfSwgMCk7CiAgICAgICAgLy8gICByZXR1cm4gaW1nCiAgICAgICAgLy8gfSwKICAgICAgICAvLyBpbWFnZXNfdXBsb2FkX2hhbmRsZXIoYmxvYkluZm8sIHN1Y2Nlc3MsIGZhaWx1cmUsIHByb2dyZXNzKSB7CiAgICAgICAgLy8gICBwcm9ncmVzcygwKTsKICAgICAgICAvLyAgIGNvbnN0IHRva2VuID0gX3RoaXMuJHN0b3JlLmdldHRlcnMudG9rZW47CiAgICAgICAgLy8gICBnZXRUb2tlbih0b2tlbikudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgLy8gICAgIGNvbnN0IHVybCA9IHJlc3BvbnNlLmRhdGEucWluaXVfdXJsOwogICAgICAgIC8vICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIC8vICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Rva2VuJywgcmVzcG9uc2UuZGF0YS5xaW5pdV90b2tlbik7CiAgICAgICAgLy8gICAgIGZvcm1EYXRhLmFwcGVuZCgna2V5JywgcmVzcG9uc2UuZGF0YS5xaW5pdV9rZXkpOwogICAgICAgIC8vICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBibG9iSW5mby5ibG9iKCksIHVybCk7CiAgICAgICAgLy8gICAgIHVwbG9hZChmb3JtRGF0YSkudGhlbigoKSA9PiB7CiAgICAgICAgLy8gICAgICAgc3VjY2Vzcyh1cmwpOwogICAgICAgIC8vICAgICAgIHByb2dyZXNzKDEwMCk7CiAgICAgICAgLy8gICAgIH0pCiAgICAgICAgLy8gICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIC8vICAgICBmYWlsdXJlKCflh7rnjrDmnKrnn6Xpl67popjvvIzliLfmlrDpobXpnaLvvIzmiJbogIXogZTns7vnqIvluo/lkZgnKQogICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIC8vICAgfSk7CiAgICAgICAgLy8gfSwKCiAgICAgIH0pOwogICAgfSwKICAgIGRlc3Ryb3lUaW55bWNlOiBmdW5jdGlvbiBkZXN0cm95VGlueW1jZSgpIHsKICAgICAgdmFyIHRpbnltY2UgPSB3aW5kb3cudGlueW1jZS5nZXQodGhpcy50aW55bWNlSWQpOwoKICAgICAgaWYgKHRoaXMuZnVsbHNjcmVlbikgewogICAgICAgIHRpbnltY2UuZXhlY0NvbW1hbmQoJ21jZUZ1bGxTY3JlZW4nKTsKICAgICAgfQoKICAgICAgaWYgKHRpbnltY2UpIHsKICAgICAgICB0aW55bWNlLmRlc3Ryb3koKTsKICAgICAgfQogICAgfSwKICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uIHNldENvbnRlbnQodmFsdWUpIHsKICAgICAgd2luZG93LnRpbnltY2UuZ2V0KHRoaXMudGlueW1jZUlkKS5zZXRDb250ZW50KHZhbHVlKTsKICAgIH0sCiAgICBnZXRDb250ZW50OiBmdW5jdGlvbiBnZXRDb250ZW50KCkgewogICAgICB3aW5kb3cudGlueW1jZS5nZXQodGhpcy50aW55bWNlSWQpLmdldENvbnRlbnQoKTsKICAgIH0sCiAgICBpbWFnZVN1Y2Nlc3NDQks6IGZ1bmN0aW9uIGltYWdlU3VjY2Vzc0NCSyhhcnIpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB3aW5kb3cudGlueW1jZS5nZXQoX3RoaXM1LnRpbnltY2VJZCkuaW5zZXJ0Q29udGVudCgiPGltZyBjbGFzcz1cIndzY25waFwiIHNyYz1cIiIuY29uY2F0KHYudXJsLCAiXCIgPiIpKTsKICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDI7"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div :class=\"{fullscreen:fullscreen}\" class=\"tinymce-container\" :style=\"{width:containerWidth}\">\n    <textarea :id=\"tinymceId\" class=\"tinymce-textarea\" />\n    <div class=\"editor-custom-btn-container\">\n      <editorImage color=\"#1890ff\" class=\"editor-upload-btn\" @successCBK=\"imageSuccessCBK\" />\n    </div>\n  </div>\n</template>\n\n<script>\n/**\n * docs:\n * https://panjiachen.github.io/vue-element-admin-site/feature/component/rich-editor.html#tinymce\n */\nimport editorImage from './components/EditorImage'\nimport plugins from './plugins'\nimport toolbar from './toolbar'\nimport load from './dynamicLoadScript'\n\n// why use this cdn, detail see https://github.com/PanJiaChen/tinymce-all-in-one\nconst tinymceCDN = 'https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js'\n\nexport default {\n  name: 'Tinymce',\n  components: { editorImage },\n  props: {\n    id: {\n      type: String,\n      default: function() {\n        return 'vue-tinymce-' + +new Date() + ((Math.random() * 1000).toFixed(0) + '')\n      }\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    toolbar: {\n      type: Array,\n      required: false,\n      default() {\n        return []\n      }\n    },\n    menubar: {\n      type: String,\n      default: 'file edit insert view format table'\n    },\n    height: {\n      type: [Number, String],\n      required: false,\n      default: 360\n    },\n    width: {\n      type: [Number, String],\n      required: false,\n      default: 'auto'\n    },\n    changeVal: {\n      type: Boolean,\n      default() {\n        return false\n      }\n    }\n  },\n  data() {\n    return {\n      hasChange: false,\n      hasInit: false,\n      tinymceId: this.id,\n      fullscreen: false,\n      languageTypeList: {\n        'en': 'en',\n        'zh': 'zh_CN',\n        'es': 'es_MX',\n        'ja': 'ja'\n      }\n    }\n  },\n  computed: {\n    containerWidth() {\n      const width = this.width\n      if (/^[\\d]+(\\.[\\d]+)?$/.test(width)) { // matches `100`, `'100'`\n        return `${width}px`\n      }\n      return width\n    }\n  },\n  watch: {\n    value(val) {\n      debugger\n      if ((this.changeVal || !this.hasChange) && this.hasInit) {\n        this.$nextTick(() =>\n          window.tinymce.get(this.tinymceId).setContent(val || ''))\n      }\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  activated() {\n    if (window.tinymce) {\n      this.initTinymce()\n    }\n  },\n  deactivated() {\n    this.destroyTinymce()\n  },\n  destroyed() {\n    this.destroyTinymce()\n  },\n  methods: {\n    init() {\n      // dynamic load tinymce from cdn\n      load(tinymceCDN, (err) => {\n        if (err) {\n          this.$message.error(err.message)\n          return\n        }\n        this.initTinymce()\n      })\n    },\n    initTinymce() {\n      const _this = this\n      window.tinymce.init({\n        selector: `#${this.tinymceId}`,\n        language: this.languageTypeList['en'],\n        height: this.height,\n        body_class: 'panel-body ',\n        object_resizing: false,\n        toolbar: this.toolbar.length > 0 ? this.toolbar : toolbar,\n        menubar: this.menubar,\n        plugins: plugins,\n        end_container_on_empty_block: true,\n        powerpaste_word_import: 'clean',\n        code_dialog_height: 450,\n        code_dialog_width: 1000,\n        advlist_bullet_styles: 'square',\n        advlist_number_styles: 'default',\n        imagetools_cors_hosts: ['www.tinymce.com', 'codepen.io'],\n        default_link_target: '_blank',\n        link_title: false,\n        nonbreaking_force_tab: true, // inserting nonbreaking space &nbsp; need Nonbreaking Space Plugin\n        init_instance_callback: editor => {\n          if (_this.value) {\n            editor.setContent(_this.value)\n          }\n          _this.hasInit = true\n          editor.on('NodeChange Change KeyUp SetContent', () => {\n            this.hasChange = true\n            this.$emit('input', editor.getContent())\n          })\n        },\n        setup(editor) {\n          editor.on('FullscreenStateChanged', (e) => {\n            _this.fullscreen = e.state\n          })\n        },\n        // it will try to keep these URLs intact\n        // https://www.tiny.cloud/docs-3x/reference/configuration/Configuration3x@convert_urls/\n        // https://stackoverflow.com/questions/5196205/disable-tinymce-absolute-to-relative-url-conversions\n        convert_urls: false\n        // 整合七牛上传\n        // images_dataimg_filter(img) {\n        //   setTimeout(() => {\n        //     const $image = $(img);\n        //     $image.removeAttr('width');\n        //     $image.removeAttr('height');\n        //     if ($image[0].height && $image[0].width) {\n        //       $image.attr('data-wscntype', 'image');\n        //       $image.attr('data-wscnh', $image[0].height);\n        //       $image.attr('data-wscnw', $image[0].width);\n        //       $image.addClass('wscnph');\n        //     }\n        //   }, 0);\n        //   return img\n        // },\n        // images_upload_handler(blobInfo, success, failure, progress) {\n        //   progress(0);\n        //   const token = _this.$store.getters.token;\n        //   getToken(token).then(response => {\n        //     const url = response.data.qiniu_url;\n        //     const formData = new FormData();\n        //     formData.append('token', response.data.qiniu_token);\n        //     formData.append('key', response.data.qiniu_key);\n        //     formData.append('file', blobInfo.blob(), url);\n        //     upload(formData).then(() => {\n        //       success(url);\n        //       progress(100);\n        //     })\n        //   }).catch(err => {\n        //     failure('出现未知问题，刷新页面，或者联系程序员')\n        //     console.log(err);\n        //   });\n        // },\n      })\n    },\n    destroyTinymce() {\n      const tinymce = window.tinymce.get(this.tinymceId)\n      if (this.fullscreen) {\n        tinymce.execCommand('mceFullScreen')\n      }\n\n      if (tinymce) {\n        tinymce.destroy()\n      }\n    },\n    setContent(value) {\n      window.tinymce.get(this.tinymceId).setContent(value)\n    },\n    getContent() {\n      window.tinymce.get(this.tinymceId).getContent()\n    },\n    imageSuccessCBK(arr) {\n      arr.forEach(v => window.tinymce.get(this.tinymceId).insertContent(`<img class=\"wscnph\" src=\"${v.url}\" >`))\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tinymce-container {\n  position: relative;\n  line-height: normal;\n}\n\n.tinymce-container {\n  ::v-deep {\n    .mce-fullscreen {\n      z-index: 10000;\n    }\n  }\n}\n\n.tinymce-textarea {\n  visibility: hidden;\n  z-index: -1;\n}\n\n.editor-custom-btn-container {\n  position: absolute;\n  right: 4px;\n  top: 4px;\n  /*z-index: 2005;*/\n}\n\n.fullscreen .editor-custom-btn-container {\n  z-index: 10000;\n  position: fixed;\n}\n\n.editor-upload-btn {\n  display: inline-block;\n}\n</style>\n"],"sourceRoot":"src/components/Tinymce"}]}