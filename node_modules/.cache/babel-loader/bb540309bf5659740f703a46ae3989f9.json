{"remainingRequest":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\babel-loader\\lib\\index.js!F:\\webstormProjects\\hz-websit-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\webstormProjects\\hz-websit-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjects\\hz-websit-admin\\src\\components\\UploadVideo\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\webstormProjects\\hz-websit-admin\\src\\components\\UploadVideo\\index.vue","mtime":1630899514000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJGOi93ZWJzdG9ybVByb2plY3RzL2h6LXdlYnNpdC1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiKTsKCnZhciBfYXN5bmNUb0dlbmVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkY6L3dlYnN0b3JtUHJvamVjdHMvaHotd2Vic2l0LWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IiKSk7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQyID0gewogIG5hbWU6ICdVcGxvYWRWaWRlbycsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHsKICAgIHZpZGVvczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgbnVtTGltaXQ6IHsKICAgICAgLy8g5pyA5aSn5YWB6K645LiK5Lyg5Liq5pWwCiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMQogICAgfSwKICAgIHNpemVMaW1pdDogewogICAgICAvLyDmnIDlpKfljZXmlofku7blpKflsI8KICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiA1MAogICAgfSwKICAgIHZpZGVvQmFzZVVybDogewogICAgICAvLyDlt7LkuIrkvKDlm77niYfmnI3liqHlmajot6/lvoQKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgdmlkZW9MaXN0OiBbXSwKICAgICAgdmlkZW9TcmM6ICcnLAogICAgICBhY3Rpb25Vcmw6ICdodHRwOi8vOC4xMzYuMTU5LjEzNjo5MDk1L2FwaS9jb21tb24vdmlkZW8vdXBsb2FkJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB1cGxvYWRTaG93OiBmdW5jdGlvbiB1cGxvYWRTaG93KCkgewogICAgICByZXR1cm4gdGhpcy52aWRlb3MubGVuZ3RoIDwgdGhpcy5udW1MaW1pdDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2aWRlb3M6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkodGhpcy52aWRlb3MpOwoKICAgICAgICBpZiAoaXNBcnJheSAmJiB0aGlzLnZpZGVvcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLnZpZGVvcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaXRlbS5pc1Nob3dQb3B1cCA9IGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgICBkZWJ1Z2dlcjsKICAgICAgICAgIHRoaXMudmlkZW9MaXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnZpZGVvcykpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnZpZGVvTGlzdCA9IFtdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgLy8g5LiK5Lyg5LmL5YmNCiAgICBiZWZvcmVBdmF0YXJVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmIChbJ3ZpZGVvL21wNCcsICd2aWRlby9vZ2cnLCAndmlkZW8vZmx2JywgJ3ZpZGVvL2F2aScsICd2aWRlby93bXYnLCAndmlkZW8vcm12YicsICd2aWRlby9tb3YnXS5pbmRleE9mKGZpbGUucmF3LnR5cGUpID09IC0xKSB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXByb21pc2UtcmVqZWN0LWVycm9ycwogICAgICAgICAgcmV0dXJuIHJlamVjdCgn6K+35LiK5Lyg5q2j56Gu55qE6KeG6aKR5qC85byPIScpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0ID4gX3RoaXMuc2l6ZUxpbWl0KSB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXByb21pc2UtcmVqZWN0LWVycm9ycwogICAgICAgICAgcmV0dXJuIHJlamVjdCgiXHU4OUM2XHU5ODkxXHU1OTI3XHU1QzBGXHU0RTBEXHU4MEZEXHU4RDg1XHU4RkM3Ii5jb25jYXQoX3RoaXMuc2l6ZUxpbWl0LCAiTSEiKSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3RoaXMudmlkZW9MaXN0Lmxlbmd0aCA9PT0gX3RoaXMubnVtTGltaXQpIHsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcHJvbWlzZS1yZWplY3QtZXJyb3JzCiAgICAgICAgICByZXR1cm4gcmVqZWN0KCJcdTY3MDBcdTU5MUFcdTRFMEFcdTRGMjAiLmNvbmNhdChfdGhpcy5udW1MaW1pdCwgIlx1NEUyQVx1ODlDNlx1OTg5MSIpKTsKICAgICAgICB9CgogICAgICAgIHJlc29sdmUoJ+espuWQiOihqOWWruimj+WJhycpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDkuIrkvKDmlLnlj5gKICAgIGhhbmRsZUF2YXRhckNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQXZhdGFyQ2hhbmdlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmJlZm9yZUF2YXRhclVwbG9hZChmaWxlKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3RoaXMyLnVwbG9hZEltZ0FwaShmaWxlKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLndhcm5pbmcoSlNPTi5zdHJpbmdpZnkoX2NvbnRleHQudDApKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDkuIrkvKDop4bpopHlh4blpIcKICAgIHVwbG9hZEltZ0FwaTogZnVuY3Rpb24gdXBsb2FkSW1nQXBpKGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coZGF0YSwgJ3VwbG9hZCoqJyk7CiAgICAgIHZhciB2aWRlb1NyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZGF0YS5yYXcpOwogICAgICB0aGlzLnZpZGVvTGlzdC5wdXNoKHsKICAgICAgICB2aWRlb0ZpbGU6IGRhdGEsCiAgICAgICAgdXJsOiB2aWRlb1NyYywKICAgICAgICBpc1Nob3dQb3B1cDogZmFsc2UKICAgICAgfSk7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMudmlkZW9MaXN0KTsKICAgIH0sCiAgICAvLyDpooTop4jop4bpopEKICAgIHByZXZpZXdWaWRlbzogZnVuY3Rpb24gcHJldmlld1ZpZGVvKGRhdGEpIHsKICAgICAgaWYgKGRhdGEudmlkZW9MaW5rKSB7CiAgICAgICAgdGhpcy52aWRlb1NyYyA9ICIiLmNvbmNhdCh0aGlzLnZpZGVvQmFzZVVybCkuY29uY2F0KGRhdGEudmlkZW9MaW5rKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnZpZGVvU3JjID0gZGF0YS51cmw7CiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy8g5Yig6Zmk6KeG6aKRCiAgICBkZWxldGVWaWRlbzogZnVuY3Rpb24gZGVsZXRlVmlkZW8oaW5kZXgpIHsKICAgICAgdGhpcy4kZW1pdCgnZGVsZXRlJywgaW5kZXgpOwogICAgfSwKICAgIGhhbmRsZUNsb3NlOiBmdW5jdGlvbiBoYW5kbGVDbG9zZSgpIHsKICAgICAgdmFyIHZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3ZpZGVvJylbMV07CgogICAgICBpZiAoIXZpZGVvLnBhdXNlZCkgewogICAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gMDsKICAgICAgICB2aWRlby5wYXVzZSgpOwogICAgICB9CgogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Mjs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"upload-box\">\n    <div class=\"avatar-uploader-box\">\n      <!-- 图片预览 -->\n      <div v-for=\"(item, index) in videoList\" :key=\"index\" class=\"video-preview\">\n        <video v-if=\"item.videoLink\" :src=\"`${videoBaseUrl}${item.videoLink}`\" class=\"avatar\" @mouseover.stop=\"item.isShowPopup = true\">\n          您的浏览器不支持视频播放\n        </video>\n        <video v-else :src=\"item.url\" class=\"avatar\" @mouseover.stop=\"item.isShowPopup = true\">\n          您的浏览器不支持视频播放\n        </video>\n        <!-- 显示查看和删除的按钮弹窗 -->\n        <div\n          v-show=\"(item.videoLink || item.url) && item.isShowPopup\"\n          class=\"avatar-uploader-popup\"\n          @mouseleave=\"item.isShowPopup = false\"\n        >\n          <i class=\"el-icon-zoom-in\" @click=\"previewVideo(item)\" />\n          <i class=\"el-icon-delete\" @click=\"deleteVideo(index)\" />\n        </div>\n      </div>\n\n      <!-- 方框样式 -->\n      <el-upload\n        v-show=\"uploadShow\"\n        ref=\"avatarUploader\"\n        :action=\"actionUrl\"\n        :auto-upload=\"false\"\n        :on-change=\"handleAvatarChange\"\n        :show-file-list=\"false\"\n        class=\"avatar-uploader\"\n      >\n        <span\n          v-loading=\"loading\"\n          element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n          element-loading-spinner=\"el-icon-loading\"\n          element-loading-text=\"上传中\"\n          style=\"display:block;\"\n        >\n          <i class=\"el-icon-plus avatar-uploader-icon\" />\n        </span>\n      </el-upload>\n\n      <!-- 上传提示文字样式 -->\n      <div class=\"upload-tip\">\n        <slot />\n      </div>\n    </div>\n\n    <!-- 查看大图 -->\n    <el-dialog :visible.sync=\"dialogVisible\" append-to-body center title=\"视频查看\" :before-close=\"handleClose\">\n      <video ref=\"video\" :src=\"videoSrc\" controls alt width=\"100%\">您的浏览器不支持视频播放</video>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UploadVideo',\n  components: {},\n  props: {\n    videos: {\n      type: Array,\n      default: function() {\n        return []\n      }\n    },\n    numLimit: {\n      // 最大允许上传个数\n      type: Number,\n      default: 1\n    },\n    sizeLimit: {\n      // 最大单文件大小\n      type: Number,\n      default: 50\n    },\n    videoBaseUrl: {\n      // 已上传图片服务器路径\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      dialogVisible: false,\n      videoList: [],\n      videoSrc: '',\n      actionUrl: 'http://8.136.159.136:9095/api/common/video/upload'\n    }\n  },\n  computed: {\n    uploadShow() {\n      return this.videos.length < this.numLimit\n    }\n  },\n  watch: {\n    videos: {\n      handler() {\n        const isArray = Array.isArray(this.videos)\n        if (isArray && this.videos.length > 0) {\n          this.videos.map(item => {\n            item.isShowPopup = false\n          })\n          debugger\n          this.videoList = JSON.parse(JSON.stringify(this.videos))\n        } else {\n          this.videoList = []\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  created() {},\n  methods: {\n    // 上传之前\n    beforeAvatarUpload(file) {\n      return new Promise((resolve, reject) => {\n        if (['video/mp4', 'video/ogg', 'video/flv', 'video/avi', 'video/wmv', 'video/rmvb', 'video/mov'].indexOf(file.raw.type) == -1) {\n          // eslint-disable-next-line prefer-promise-reject-errors\n          return reject('请上传正确的视频格式!')\n        }\n\n        if (file.size / 1024 / 1024 > this.sizeLimit) {\n          // eslint-disable-next-line prefer-promise-reject-errors\n          return reject(`视频大小不能超过${this.sizeLimit}M!`)\n        }\n\n        if (this.videoList.length === this.numLimit) {\n          // eslint-disable-next-line prefer-promise-reject-errors\n          return reject(`最多上传${this.numLimit}个视频`)\n        }\n\n        resolve('符合表單規則')\n      })\n    },\n    // 上传改变\n    async handleAvatarChange(file, fileList) {\n      try {\n        await this.beforeAvatarUpload(file)\n        this.uploadImgApi(file)\n      } catch (e) {\n        this.$message.warning(JSON.stringify(e))\n      }\n    },\n    // 上传视频准备\n    uploadImgApi(data) {\n      console.log(data, 'upload**')\n      const videoSrc = URL.createObjectURL(data.raw)\n      this.videoList.push({\n        videoFile: data,\n        url: videoSrc,\n        isShowPopup: false\n      })\n      this.$emit('change', this.videoList)\n    },\n    // 预览视频\n    previewVideo(data) {\n      if (data.videoLink) {\n        this.videoSrc = `${this.videoBaseUrl}${data.videoLink}`\n      } else {\n        this.videoSrc = data.url\n      }\n      this.dialogVisible = true\n    },\n    // 删除视频\n    deleteVideo(index) {\n      this.$emit('delete', index)\n    },\n    handleClose() {\n      const video = document.getElementsByTagName('video')[1]\n      if (!video.paused) {\n        video.currentTime = 0\n        video.pause()\n      }\n      this.dialogVisible = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n$width: 148px;\n$height: 148px;\n\n.upload-box {\n  .avatar-uploader-box {\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding-bottom: 20px;\n    min-width: 350px;\n    .avatar-uploader {\n      .el-upload {\n        width: $width;\n        height: $height;\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n        &:hover {\n          border-color: #409eff;\n        }\n        .el-loading-spinner {\n          width: $width;\n          height: $height;\n          position: relative;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          margin-top: 0;\n          top: 0;\n          .el-loading-text {\n            margin: 0;\n          }\n        }\n      }\n      .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: $width;\n        height: $height;\n        line-height: $height;\n        text-align: center;\n      }\n    }\n    .video-preview {\n      position: relative;\n      padding-right: 20px;\n      .avatar {\n        width: $width;\n        height: $height;\n        display: block;\n        border-radius: 6px;\n      }\n      .avatar-uploader-popup {\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: 2;\n        width: $width;\n        height: $height;\n        background: rgba($color: #000000, $alpha: 0.5);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: #fff;\n        font-size: 20px;\n        border-radius: 6px;\n        i {\n          width: 30%;\n          text-align: center;\n          padding: 0 5%;\n          font-size: 24px;\n        }\n      }\n    }\n    .upload-tip {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      font-size: 12px;\n      color: #606266;\n      max-width: 350px;\n      line-height: 20px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/UploadVideo"}]}