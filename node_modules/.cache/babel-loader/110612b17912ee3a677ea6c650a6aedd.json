{"remainingRequest":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\babel-loader\\lib\\index.js!F:\\webstormProjects\\hz-websit-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\webstormProjects\\hz-websit-admin\\src\\store\\modules\\user.js","dependencies":[{"path":"F:\\webstormProjects\\hz-websit-admin\\src\\store\\modules\\user.js","mtime":1629790195000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKdmFyIF91c2VyID0gcmVxdWlyZSgiQC9hcGkvdXNlciIpOwoKdmFyIF9hdXRoID0gcmVxdWlyZSgiQC91dGlscy9hdXRoIik7Cgp2YXIgX3JvdXRlciA9IHJlcXVpcmUoIkAvcm91dGVyIik7CgovKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcHJvbWlzZS1yZWplY3QtZXJyb3JzICovCnZhciBzdGF0ZSA9IHsKICB0b2tlbjogKDAsIF9hdXRoLmdldFRva2VuKSgpLAogIHVzZXJGb3JtOiB7fSwKICByb2xlczogW10KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICBTRVRfVVNFUkZPUk06IGZ1bmN0aW9uIFNFVF9VU0VSRk9STShzdGF0ZSwgdXNlckZvcm0pIHsKICAgIHN0YXRlLnVzZXJGb3JtID0gdXNlckZvcm0gfHwge307CiAgfSwKICBTRVRfUk9MRVM6IGZ1bmN0aW9uIFNFVF9ST0xFUyhzdGF0ZSwgcm9sZXMpIHsKICAgIHN0YXRlLnJvbGVzID0gcm9sZXM7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlckluZm8pIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICgwLCBfdXNlci5sb2dpbikodXNlckluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHRva2VuID0gJ0FETUlOLVBMQU0nOwogICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgdG9rZW4pOwogICAgICAgICgwLCBfYXV0aC5zZXRUb2tlbikodG9rZW4pOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIGdldEluZm86IGZ1bmN0aW9uIGdldEluZm8oX3JlZjIpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgY29tbWl0KCdTRVRfUk9MRVMnLCBbJ2FkbWluJ10pOwogICAgICByZXNvbHZlKCk7CiAgICB9KTsKICB9LAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjMuc3RhdGUsCiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgJycpOwogICAgICBjb21taXQoJ1NFVF9ST0xFUycsIFtdKTsKICAgICAgKDAsIF9hdXRoLnJlbW92ZVRva2VuKSgpOwogICAgICAoMCwgX3JvdXRlci5yZXNldFJvdXRlcikoKTsKICAgICAgcmVzb2x2ZSgpOwogICAgfSk7CiAgfSwKICAvLyByZW1vdmUgdG9rZW4KICByZXNldFRva2VuOiBmdW5jdGlvbiByZXNldFRva2VuKF9yZWY0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgJycpOwogICAgICBjb21taXQoJ1NFVF9ST0xFUycsIFtdKTsKICAgICAgKDAsIF9hdXRoLnJlbW92ZVRva2VuKSgpOwogICAgICByZXNvbHZlKCk7CiAgICB9KTsKICB9LAogIHJlbG9hZFRva2VuOiBmdW5jdGlvbiByZWxvYWRUb2tlbihfcmVmNSwgdG9rZW4pIHsKICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCB0b2tlbik7CiAgICAgICgwLCBfYXV0aC5zZXRUb2tlbikodG9rZW4pOwogICAgICByZXNvbHZlKCk7CiAgICB9KTsKICB9Cn07CnZhciBfZGVmYXVsdCA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["F:/webstormProjects/hz-websit-admin/src/store/modules/user.js"],"names":["state","token","userForm","roles","mutations","SET_TOKEN","SET_USERFORM","SET_ROLES","actions","login","userInfo","commit","Promise","resolve","reject","then","response","catch","error","getInfo","logout","dispatch","resetToken","reloadToken","namespaced"],"mappings":";;;;;;;;;AACA;;AACA;;AACA;;AAHA;AAKA,IAAMA,KAAK,GAAG;AACZC,EAAAA,KAAK,EAAE,qBADK;AAEZC,EAAAA,QAAQ,EAAE,EAFE;AAGZC,EAAAA,KAAK,EAAE;AAHK,CAAd;AAMA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,SAAS,EAAE,mBAACL,KAAD,EAAQC,KAAR,EAAkB;AAC3BD,IAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACD,GAHe;AAIhBK,EAAAA,YAAY,EAAE,sBAACN,KAAD,EAAQE,QAAR,EAAqB;AACjCF,IAAAA,KAAK,CAACE,QAAN,GAAiBA,QAAQ,IAAI,EAA7B;AACD,GANe;AAOhBK,EAAAA,SAAS,EAAE,mBAACP,KAAD,EAAQG,KAAR,EAAkB;AAC3BH,IAAAA,KAAK,CAACG,KAAN,GAAcA,KAAd;AACD;AATe,CAAlB;AAYA,IAAMK,OAAO,GAAG;AACdC,EAAAA,KADc,uBACIC,QADJ,EACc;AAAA,QAApBC,MAAoB,QAApBA,MAAoB;AAC1B,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,uBAAMJ,QAAN,EAAgBK,IAAhB,CAAqB,UAAAC,QAAQ,EAAI;AAC/B,YAAMf,KAAK,GAAG,YAAd;AACAU,QAAAA,MAAM,CAAC,WAAD,EAAcV,KAAd,CAAN;AACA,4BAASA,KAAT;AACAY,QAAAA,OAAO;AACR,OALD,EAKGI,KALH,CAKS,UAAAC,KAAK,EAAI;AAChBJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACD,OAPD;AAQD,KATM,CAAP;AAUD,GAZa;AAadC,EAAAA,OAbc,0BAaM;AAAA,QAAVR,MAAU,SAAVA,MAAU;AAClB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC9BF,MAAAA,MAAM,CAAC,WAAD,EAAc,CAAC,OAAD,CAAd,CAAN;AACAE,MAAAA,OAAO;AACR,KAHM,CAAP;AAID,GAlBa;AAmBdO,EAAAA,MAnBc,yBAmBsB;AAAA,QAA3BT,MAA2B,SAA3BA,MAA2B;AAAA,QAAnBX,KAAmB,SAAnBA,KAAmB;AAAA,QAAZqB,QAAY,SAAZA,QAAY;AAClC,WAAO,IAAIT,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCH,MAAAA,MAAM,CAAC,WAAD,EAAc,EAAd,CAAN;AACAA,MAAAA,MAAM,CAAC,WAAD,EAAc,EAAd,CAAN;AACA;AACA;AACAE,MAAAA,OAAO;AACR,KANM,CAAP;AAOD,GA3Ba;AA4Bd;AACAS,EAAAA,UA7Bc,6BA6BS;AAAA,QAAVX,MAAU,SAAVA,MAAU;AACrB,WAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5BF,MAAAA,MAAM,CAAC,WAAD,EAAc,EAAd,CAAN;AACAA,MAAAA,MAAM,CAAC,WAAD,EAAc,EAAd,CAAN;AACA;AACAE,MAAAA,OAAO;AACR,KALM,CAAP;AAMD,GApCa;AAsCdU,EAAAA,WAtCc,8BAsCUtB,KAtCV,EAsCiB;AAAA,QAAjBU,MAAiB,SAAjBA,MAAiB;AAC7B,WAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5BF,MAAAA,MAAM,CAAC,WAAD,EAAcV,KAAd,CAAN;AACA,0BAASA,KAAT;AACAY,MAAAA,OAAO;AACR,KAJM,CAAP;AAKD;AA5Ca,CAAhB;eA+Ce;AACbW,EAAAA,UAAU,EAAE,IADC;AAEbxB,EAAAA,KAAK,EAALA,KAFa;AAGbI,EAAAA,SAAS,EAATA,SAHa;AAIbI,EAAAA,OAAO,EAAPA;AAJa,C","sourcesContent":["/* eslint-disable prefer-promise-reject-errors */\nimport { login } from '@/api/user'\nimport { getToken, setToken, removeToken } from '@/utils/auth'\nimport { resetRouter } from '@/router'\n\nconst state = {\n  token: getToken(),\n  userForm: {},\n  roles: []\n}\n\nconst mutations = {\n  SET_TOKEN: (state, token) => {\n    state.token = token\n  },\n  SET_USERFORM: (state, userForm) => {\n    state.userForm = userForm || {}\n  },\n  SET_ROLES: (state, roles) => {\n    state.roles = roles\n  }\n}\n\nconst actions = {\n  login({ commit }, userInfo) {\n    return new Promise((resolve, reject) => {\n      login(userInfo).then(response => {\n        const token = 'ADMIN-PLAM'\n        commit('SET_TOKEN', token)\n        setToken(token)\n        resolve()\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n  getInfo({ commit }) {\n    return new Promise((resolve) => {\n      commit('SET_ROLES', ['admin'])\n      resolve()\n    })\n  },\n  logout({ commit, state, dispatch }) {\n    return new Promise((resolve, reject) => {\n      commit('SET_TOKEN', '')\n      commit('SET_ROLES', [])\n      removeToken()\n      resetRouter()\n      resolve()\n    })\n  },\n  // remove token\n  resetToken({ commit }) {\n    return new Promise(resolve => {\n      commit('SET_TOKEN', '')\n      commit('SET_ROLES', [])\n      removeToken()\n      resolve()\n    })\n  },\n\n  reloadToken({ commit }, token) {\n    return new Promise(resolve => {\n      commit('SET_TOKEN', token)\n      setToken(token)\n      resolve()\n    })\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n"]}]}