{"remainingRequest":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjects\\hz-websit-admin\\src\\views\\adver\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\webstormProjects\\hz-websit-admin\\src\\views\\adver\\index.vue","mtime":1630900605000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\hz-websit-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgVGlueW1jZSBmcm9tICdAL2NvbXBvbmVudHMvVGlueW1jZScKaW1wb3J0ICogYXMgYWR2ZXJTZXJ2ZXIgZnJvbSAnQC9hcGkvYWR2ZXInCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFRpbnltY2UgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgQWR2ZXJEYXRhOiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ1RpdGxlOiAnJywKICAgICAgYWR2ZXJGb3JtOiB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIGltZ1VybDogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIHJvdXRlclVybDogJycsCiAgICAgICAgc2hvd1BhZ2U6ICcnCiAgICAgIH0sCiAgICAgIGN1c01pZGRsZVJ1bGVzOiB7CiAgICAgICAgaW1nVXJsOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeWxleekuuWbvueJhycsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICB0aXRsZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7flvZXlhaXmoIfpopgnLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgY29udGVudDogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7flvZXlhaXlhoXlrrknLCB0cmlnZ2VyOiAnYmx1cicgfV0KICAgICAgfSwKICAgICAgYmFzZVVybDogJ2h0dHBzOi8vd3d3LmpzaGVuZ3poZW5nLmNvbS9maWxlL3ZpZGVvJywKICAgICAgYmFzZUltYWdVcmw6ICdodHRwczovL3d3dy5qc2hlbmd6aGVuZy5jb20vZmlsZS9pbWcnLAogICAgICB2aWRlb0luZm86IHsKICAgICAgICBhbGxWaWRlbzogW10sCiAgICAgICAgZGVsZXRlVmlkZW86IFtdCiAgICAgIH0sCiAgICAgIHBhZ2VGaWxlTGlzdDogW10sCiAgICAgIGRpYWxvZ1R5cGU6ICdjcmVhdGUnLAogICAgICBoaWRlUGFnZVVwbG9hZEVkaXQ6IGZhbHNlCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5oYW5kbGVTZWFyY2goKQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU2VhcmNoKCkgewogICAgICBhZHZlclNlcnZlci5maW5kTGlzdCgpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCAmJiByZXMucmVzdWx0KSB7CiAgICAgICAgICB0aGlzLkFkdmVyRGF0YSA9IHJlcy5yZXN1bHQgfHwgW10KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlQWRkKCkgewogICAgICB0aGlzLmFkdmVyRm9ybSA9IHsKICAgICAgICBpZDogJycsCiAgICAgICAgaW1nVXJsOiAnJywKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgY29udGVudDogJycsCiAgICAgICAgcm91dGVyVXJsOiAnJywKICAgICAgICBzaG93UGFnZTogMAogICAgICB9CiAgICAgIHRoaXMucGFnZUZpbGVMaXN0ID0gW10KCiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5paw5aKeJwogICAgICB0aGlzLmRpYWxvZ1R5cGUgPSAnY3JlYXRlJwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICB9LAoKICAgIGhhbmRsZVJlbW92ZShmaWxlKSB7CiAgICAgIHRoaXMuJHJlZnMubG9nb0ltYWdlLnVwbG9hZEZpbGVzLnNwbGljZSgwLCAxKQogICAgICB0aGlzLmhpZGVQYWdlVXBsb2FkRWRpdCA9IGZhbHNlCiAgICAgIHRoaXMuYWR2ZXJGb3JtLmltZ1VybCA9ICcnCiAgICB9LAogICAgaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB0aGlzLmFkdmVyRm9ybSA9IHsKICAgICAgICBpZDogcm93LmlkLAogICAgICAgIGltZ1VybDogcm93LmltZ1VybCwKICAgICAgICB0aXRsZTogcm93LnRpdGxlLAogICAgICAgIHJvdXRlclVybDogcm93LnJvdXRlclVybCwKICAgICAgICBjb250ZW50OiByb3cuY29udGVudCwKICAgICAgICBzaG93UGFnZTogcm93LnNob3dQYWdlCiAgICAgIH0KICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICfkv67mlLknCiAgICAgIHRoaXMuZGlhbG9nVHlwZSA9ICd1cGRhdGUnCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUKICAgIH0sCiAgICBoYW5kbGVEZWxldGUoaWQpIHsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a5Yig6ZmkPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBhZHZlclNlcnZlci5kZWxBZHZlcihpZCkudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5oYW5kbGVTZWFyY2goKQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgYmVmb3JlQXZhdGFyVXBsb2FkKGZpbGUpIHsKICAgICAgY29uc3QgaXNMdDFNID0gZmlsZS5zaXplIC8gMjA0OCAvIDIwNDggPCAxCiAgICAgIGlmICghaXNMdDFNKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5Zu+54mH5aSn5bCP5LiN6IO96LaF6L+HIDJNQiEnKQogICAgICB9CiAgICAgIHJldHVybiBpc0x0MU0KICAgIH0sCiAgICBvblVwbG9hZENoYW5nZShmaWxlKSB7CiAgICAgIGlmIChmaWxlLnN0YXR1cyA9PT0gJ3JlYWR5JykgcmV0dXJuCiAgICAgIGlmIChmaWxlLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgY29uc3QgcmVzID0gZmlsZS5yZXNwb25zZSB8fCB7fQogICAgICAgIGlmIChyZXMgJiYgcmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5hZHZlckZvcm0uaW1nVXJsID0gZmlsZS5yZXNwb25zZS5yZXN1bHQKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfkuIrkvKDmiJDlip8hJwogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuaGlkZVBhZ2VVcGxvYWRFZGl0ID0gdHJ1ZQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLHotKUhJykKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aSx6LSlIScpCiAgICAgIH0KICAgIH0sCiAgICBhZHZlckNvbmZpcm0oKSB7CiAgICAgIHRoaXMuJHJlZnMuYWR2ZXJGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICh0aGlzLmRpYWxvZ1R5cGUgPT09ICdjcmVhdGUnKSB7CiAgICAgICAgICAgIGFkdmVyU2VydmVyLnNhdmVBZHZlcih0aGlzLmFkdmVyRm9ybSkudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLAogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZWFyY2goKQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgICAgICB0aXRsZTogJ+Wksei0pScsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLAogICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFkdmVyU2VydmVyLnVwZGF0ZUFkdmVyKHRoaXMuYWR2ZXJGb3JtKS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5oiQ5YqfJywKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlYXJjaCgpCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5aSx6LSlJywKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkKICAgIH0KCiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/adver","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form inline>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"handleAdd\">新增</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table\n      :data=\"AdverData\"\n      border\n      stripe\n      fit\n      highlight-current-row\n    >\n      <el-table-column type=\"index\" label=\"序号\" width=\"50\" align=\"center\" />\n      <el-table-column prop=\"title\" label=\"标题\" align=\"center\" />\n      <el-table-column prop=\"imgUrl\" label=\"图片地址\" align=\"center\" width=\"160px\">\n        <template slot-scope=\"scope\">\n          <el-image\n            style=\"width: 100px; height: 100px\"\n            :src=\"baseImagUrl + '/' + scope.row.imgUrl\"\n          />\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"content\" label=\"内容体\" :show-overflow-tooltip=\"true\" align=\"center\" />\n      <el-table-column prop=\"routerUrl\" label=\"外链地址\" align=\"center\" />\n      <el-table-column label=\"当前使用中\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <el-tag :type=\"row.showPage == 0?'success':'danger'\">{{ row.showPage == 0?'使用中':'暂停使用' }}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"createTime\" label=\"创建时间\" align=\"center\" />\n      <el-table-column label=\"操作\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <el-button type=\"text\" @click=\"handleUpdate(row)\">修改</el-button>\n          <el-button type=\"text\" @click=\"handleDelete(row.id)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" center width=\"85%\" top=\"5vh\">\n      <el-form ref=\"adverForm\" :model=\"adverForm\" :rules=\"cusMiddleRules\" label-width=\"100px\">\n        <el-form-item label=\"标题:\" prop=\"title\">\n          <el-input v-model=\"adverForm.title\" placeholder=\"请录入标题\" style=\"width: 50%\" />\n        </el-form-item>\n        <el-form-item label=\"是否启用\">\n          <el-radio-group v-model=\"adverForm.showPage\">\n            <el-radio :label=\"0\">启用</el-radio>\n            <el-radio :label=\"1\">停用</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"广告外链地址:\" prop=\"routerUrl\">\n          <el-input v-model=\"adverForm.routerUrl\" placeholder=\"请录入广告外链地址\" style=\"width: 50%\" />\n        </el-form-item>\n        <el-form-item label=\"切换图:\" prop=\"imgUrl\">\n          <el-upload\n            ref=\"logoImage\"\n            action=\"/api/common/img/upload\"\n            list-type=\"picture-card\"\n            :on-change=\"onUploadChange\"\n            accept=\".jpg,.jpeg,.png\"\n            :file-list=\"pageFileList\"\n            :before-upload=\"beforeAvatarUpload\"\n            :limit=\"1\"\n            :class=\"{hide:hidePageUploadEdit}\"\n          >\n            <i slot=\"default\" class=\"el-icon-plus\" />\n            <div slot=\"file\" slot-scope=\"{file}\">\n              <img\n                class=\"el-upload-list__item-thumbnail\"\n                :src=\"file.url\"\n                alt=\"\"\n              >\n              <span class=\"el-upload-list__item-actions\">\n                <span\n                  class=\"el-upload-list__item-delete\"\n                  @click=\"handleRemove(file)\"\n                >\n                  <i class=\"el-icon-delete\" />\n                </span>\n              </span>\n            </div>\n            <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:red\">注：您最多只能上传1张图片</div>\n          </el-upload>\n        </el-form-item>\n        <el-form-item label=\"内容体:\" prop=\"content\">\n          <el-input v-model=\"adverForm.content\" type=\"textarea\" :rows=\"5\" />\n          <!-- <tinymce v-model=\"adverForm.content\" :height=\"300\" /> -->\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"\" @click=\"dialogVisible=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"adverConfirm\">保存</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n\nimport Tinymce from '@/components/Tinymce'\nimport * as adverServer from '@/api/adver'\nexport default {\n  components: { Tinymce },\n  data() {\n    return {\n      AdverData: [],\n      dialogVisible: false,\n      dialogTitle: '',\n      adverForm: {\n        id: '',\n        imgUrl: '',\n        title: '',\n        content: '',\n        routerUrl: '',\n        showPage: ''\n      },\n      cusMiddleRules: {\n        imgUrl: [{ required: true, message: '请选择展示图片', trigger: 'blur' }],\n        title: [{ required: true, message: '请录入标题', trigger: 'blur' }],\n        content: [{ required: true, message: '请录入内容', trigger: 'blur' }]\n      },\n      baseUrl: 'https://www.jshengzheng.com/file/video',\n      baseImagUrl: 'https://www.jshengzheng.com/file/img',\n      videoInfo: {\n        allVideo: [],\n        deleteVideo: []\n      },\n      pageFileList: [],\n      dialogType: 'create',\n      hidePageUploadEdit: false\n    }\n  },\n  created() {\n    this.handleSearch()\n  },\n  methods: {\n    handleSearch() {\n      adverServer.findList().then(res => {\n        if (res.code === 200 && res.result) {\n          this.AdverData = res.result || []\n        }\n      })\n    },\n    handleAdd() {\n      this.adverForm = {\n        id: '',\n        imgUrl: '',\n        title: '',\n        content: '',\n        routerUrl: '',\n        showPage: 0\n      }\n      this.pageFileList = []\n\n      this.dialogTitle = '新增'\n      this.dialogType = 'create'\n      this.dialogVisible = true\n    },\n\n    handleRemove(file) {\n      this.$refs.logoImage.uploadFiles.splice(0, 1)\n      this.hidePageUploadEdit = false\n      this.adverForm.imgUrl = ''\n    },\n    handleUpdate(row) {\n      this.adverForm = {\n        id: row.id,\n        imgUrl: row.imgUrl,\n        title: row.title,\n        routerUrl: row.routerUrl,\n        content: row.content,\n        showPage: row.showPage\n      }\n      this.dialogTitle = '修改'\n      this.dialogType = 'update'\n      this.dialogVisible = true\n    },\n    handleDelete(id) {\n      this.$confirm('确定删除?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        adverServer.delAdver(id).then(result => {\n          this.$notify({\n            title: '成功',\n            message: result.message,\n            type: 'success'\n          })\n          this.handleSearch()\n        })\n      })\n    },\n    beforeAvatarUpload(file) {\n      const isLt1M = file.size / 2048 / 2048 < 1\n      if (!isLt1M) {\n        this.$message.error('上传图片大小不能超过 2MB!')\n      }\n      return isLt1M\n    },\n    onUploadChange(file) {\n      if (file.status === 'ready') return\n      if (file.status === 'success') {\n        const res = file.response || {}\n        if (res && res.code === 200) {\n          this.adverForm.imgUrl = file.response.result\n          this.$message({\n            type: 'success',\n            message: '上传成功!'\n          })\n          this.hidePageUploadEdit = true\n        } else {\n          this.$message.error('上传失败!')\n        }\n      } else {\n        this.$message.error('上传失败!')\n      }\n    },\n    adverConfirm() {\n      this.$refs.adverForm.validate(valid => {\n        if (valid) {\n          if (this.dialogType === 'create') {\n            adverServer.saveAdver(this.adverForm).then(result => {\n              if (result.code === 200) {\n                this.$notify({\n                  title: '成功',\n                  message: result.message,\n                  type: 'success'\n                })\n                this.dialogVisible = false\n                this.handleSearch()\n              } else {\n                this.$notify({\n                  title: '失败',\n                  message: result.message,\n                  type: 'error'\n                })\n              }\n            })\n          } else {\n            adverServer.updateAdver(this.adverForm).then(result => {\n              if (result.code === 200) {\n                this.$notify({\n                  title: '成功',\n                  message: result.message,\n                  type: 'success'\n                })\n                this.dialogVisible = false\n                this.handleSearch()\n              } else {\n                this.$notify({\n                  title: '失败',\n                  message: result.message,\n                  type: 'error'\n                })\n              }\n            })\n          }\n        }\n      })\n    }\n\n  }\n}\n</script>\n"]}]}